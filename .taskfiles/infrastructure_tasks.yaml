version: "3"
tasks:
  init:
    desc: Initialize Terraform
    dir: "{{.INFRASTRUCTURE_DIR}}"
    cmds:
      - terraform init {{.CLI_ARGS}}

  plan:
    desc: Show the changes Terraform will make
    dir: "{{.INFRASTRUCTURE_DIR}}"
    cmds:
      - terraform plan {{.CLI_ARGS}}

  apply:
    desc: Apply the changes
    dir: "{{.INFRASTRUCTURE_DIR}}"
    cmds:
      - terraform apply {{.CLI_ARGS}}
